# Session 005 - Feb 19, 2026

## What was done this session

- **Fixed bug #2** (search results show recent foods above matches). The actual fix was minimal:
  - `index.html`: Wrapped `#food-list` in an `#all-foods-section` div with an "All Foods" heading, restoring the labeled two-section layout that the previous agent had removed
  - `js/ui.js`: Removed JS logic that hid the recent section during search, so both sections stay visible at all times
- **Updated `issue_documentations/BUGS.md`**: Marked issue #2 as fixed, documented attempt 3 and updated lessons learned
- **Added new CLAUDE.md rules** to prevent scope creep:
  - Do not remove/restructure UI elements not mentioned in the bug report
  - After making changes, self-review the diff for unrequested changes
- **Created `insights/agent_scope_creep.md`**: Documented agent scope creep as an open problem, with the bug #2 incident as a case study

## Next steps

1. Consider improving the search filter to match from the start of words rather than anywhere in the string (e.g. "ri" matching "grilled" is technically correct but unexpected for users)
2. Continue building out calorie tracker features as needed

## High-level notes for the developer

- The previous agent's attempts on bug #2 made things worse by removing section labels and adding unwanted hiding logic. The fix was reverting to the original labeled layout with the DOM order swapped. When reviewing agent work, always check: did it change things that were not requested?
- The Python HTTP server on port 8080 serves files from disk with no caching, but Ali tests on alimorty.github.io (GitHub Pages), so changes need to be pushed before testing. Keep this in mind for future sessions.

## Current challenges and anticipated risks

- **Agent scope creep (open problem)**: Agents sometimes silently expand the scope of a task and make confident UX decisions nobody asked for. We added guardrail rules to CLAUDE.md but this is fundamentally a model behavior issue, not fully solvable with prompting alone. Documented in `insights/agent_scope_creep.md`.
- **Search filter matches substrings anywhere**: The current search uses `indexOf` which matches anywhere in the food name (e.g. "ri" matches "Chicken Breast, g**ri**lled"). This could confuse users expecting prefix or word-boundary matching. Not a bug per se, but worth noting.
